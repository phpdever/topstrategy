{"version":3,"sources":["webpack:///src/views/ranking/subscribe.vue","webpack:///./src/views/ranking/subscribe.vue?f396","webpack:///./src/views/ranking/subscribe.vue"],"names":["subscribe","name","components","TheFooter","data","avatar","user","userId","tableData1","tableData2","totalPage","pageSize","pageNumber","mounted","this","window","localStorage","getItem","getList","getDongtai","methods","viewDetail","id","$router","push","path","query","_this","Object","then","res","state","message","$emit","removeItem","_this2","list","total","formatTime","str","$moment","format","ranking_subscribe","render","_vm","_h","$createElement","_c","_self","attrs","title","left-arrow","on","click-left","$event","back","_v","staticClass","_l","item","key","index","href","click","src","_s","span","sharesName","inPrice","items","dealTime","staticStyle","color","outCount","stopProfit","type","value","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.5717e440df027c6a7f2d.js","sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar title=\"我的订阅\" left-arrow @click-left=\"$router.back(-1)\"> </van-nav-bar>\r\n        \r\n        <div class=\"sub-count\">\r\n            我订阅的人\r\n        </div>\r\n\r\n        <ul class=\"sub-img-ul\">\r\n              \r\n                <li v-for=\"item in tableData1\" :key=\"item.index\">\r\n                    <a href=\"javascript:;\" @click=\"viewDetail(item.userId)\">\r\n                      <img :src=\"avatar\">\r\n                      <div class=\"sub-nickname\">{{item.name}}</div>\r\n                    </a>\r\n                </li>\r\n              \r\n       </ul>\r\n       \r\n        <div class=\"sub-count\">\r\n           订阅动态\r\n       </div>\r\n       \r\n        <div class=\"dynamic_box\" v-for=\"item in tableData2\" :key=\"item.index\">\r\n            \r\n            <van-row>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">{{item.name}}</van-col>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">{{item.sharesName}}}</van-col>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">买入{{item.inPrice}}</van-col>\r\n            </van-row>\r\n        \r\n            <van-row>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">{{formatTime(items.dealTime*1000)}}<span style=\"color:#CC413A;\">成交</span></van-col>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">{{item.outCount}}}股</van-col>\r\n                    <van-col span=\"8\" class=\"dynamic_item\">止盈{{item.stopProfit}}</van-col>\r\n            </van-row>\r\n\r\n            <input type=\"button\" value=\"跟买\" class=\"with_buy_s\">\r\n\r\n         </div>\r\n\r\n        \r\n\r\n        <TheFooter/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport TheFooter from '../layout/TheFooter'\r\nimport { Toast } from 'vant';\r\nimport { getSubsList, getDynamic,deletDynamic } from '@/api/user.js'\r\n\r\nexport default {\r\n  name: 'Message',\r\n  components: {\r\n    TheFooter\r\n  },\r\n  data() {\r\n    return {\r\n      avatar:'../../../static/home/rank_head.jpg',\r\n      user: {\r\n        name: '',\r\n        userId: ''\r\n      },\r\n      tableData1: [],\r\n      tableData2: [],\r\n      totalPage: 5, // 总页数\r\n      pageSize: 10, // 每页多少\r\n      pageNumber: 1 // 当前第几页\r\n    }\r\n  },\r\n  mounted:function()\r\n  {\r\n    this.user.userId = window.localStorage.getItem('USERID') || ''\r\n    this.getList();\r\n    this.getDongtai();\r\n  },\r\n  methods:\r\n  {\r\n\r\n     viewDetail(id){\r\n            this.$router.push({path:\"/subscribe_detail\",query:{id:id}}); //浏览牛人详情\r\n     },\r\n\r\n    //获取订阅的人\r\n    getList () {\r\n      getSubsList({\r\n        id: this.user.userId\r\n      }).then(res => {\r\n        const { state, message } = res\r\n        if (state) {\r\n          this.tableData1 = message\r\n        } else if (message === '请登录') {\r\n          this.$emit('userChg', 'out')\r\n          window.localStorage.removeItem('USERID')\r\n          window.localStorage.removeItem('USERNAME')\r\n        }\r\n      })\r\n    },\r\n\r\n    //获取订阅动态\r\n    getDongtai () {\r\n      this.tableData2 = []\r\n      getDynamic({\r\n        id: this.user.userId,\r\n        pageSize: this.pageSize,\r\n        pageNumber: this.pageNumber\r\n      }).then(res => {\r\n        const { state, message } = res\r\n        if (state) {\r\n          this.tableData2 = message.list\r\n          this.totalPage = message.total\r\n        }\r\n      })\r\n    },\r\n\r\n    formatTime(str){\r\n      return this.$moment(str).format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nbody{font-size:0.9rem;background:#efeff4;}\r\n.sub-count{\r\n    height: 3rem;\r\n    line-height: 3rem;\r\n    background: #FFF;\r\n    font-size: 1rem;\r\n    padding-left: 1rem;\r\n    border-bottom:1px solid #dcdcdc;\r\n}\r\n.sub-img-ul{\r\n    min-height: 5rem;\r\n    background: #FFF;\r\n    overflow-x: scroll;\r\n    margin-bottom:1rem;\r\n    padding-bottom:0.5rem;\r\n}\r\n.sub-img-ul li{\r\n    min-width: 1rem;\r\n    float: left;\r\n    margin-right:1rem;\r\n    margin-left:1rem;\r\n}\r\n.sub-img-ul img{\r\n    -webkit-border-radius: 50%;\r\n    -moz-border-radius: 50%;\r\n    border-radius: 50%;\r\n    float: left;\r\n    width: 3rem;\r\n    height: 3rem;\r\n    margin: 0.6rem;\r\n}\r\n.sub-nickname{\r\n    text-align: center;\r\n    font-size: 0.7rem;\r\n    color: #5d5d5d;\r\n}\r\n.dynamic_box{\r\n    height:3.5rem;\r\n\tfont-size:0.8rem;\r\n    padding-left:0.5rem;\r\n    background:#fff;\r\n    position: relative;\r\n    padding-top:0.5rem;\r\n    margin-bottom:0.5rem;\r\n}\r\n.dynamic_item{\r\n    margin-top:0.5rem;\r\n}\r\n.with_buy_s{\r\n    font-size:0.8rem;\r\n    border:1px solid #CC413A !important;\r\n    color: #CC413A;\r\n    margin-top:1rem;\r\n    width:12%;\r\n    height:2rem;\r\n    line-height:2rem;\r\n    border-radius: 0.1rem;\r\n    position: absolute;\r\n    top:0rem;\r\n    right:0.5rem;\r\n    background: #fff;\r\n     -webkit-appearance: none;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/ranking/subscribe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"我的订阅\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){_vm.$router.back(-1)}}}),_vm._v(\" \"),_c('div',{staticClass:\"sub-count\"},[_vm._v(\"\\n        我订阅的人\\n    \")]),_vm._v(\" \"),_c('ul',{staticClass:\"sub-img-ul\"},_vm._l((_vm.tableData1),function(item){return _c('li',{key:item.index},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.viewDetail(item.userId)}}},[_c('img',{attrs:{\"src\":_vm.avatar}}),_vm._v(\" \"),_c('div',{staticClass:\"sub-nickname\"},[_vm._v(_vm._s(item.name))])])])})),_vm._v(\" \"),_c('div',{staticClass:\"sub-count\"},[_vm._v(\"\\n       订阅动态\\n   \")]),_vm._v(\" \"),_vm._l((_vm.tableData2),function(item){return _c('div',{key:item.index,staticClass:\"dynamic_box\"},[_c('van-row',[_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(_vm._s(item.sharesName)+\"}\")]),_vm._v(\" \"),_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(\"买入\"+_vm._s(item.inPrice))])],1),_vm._v(\" \"),_c('van-row',[_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(_vm._s(_vm.formatTime(_vm.items.dealTime*1000))),_c('span',{staticStyle:{\"color\":\"#CC413A\"}},[_vm._v(\"成交\")])]),_vm._v(\" \"),_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(_vm._s(item.outCount)+\"}股\")]),_vm._v(\" \"),_c('van-col',{staticClass:\"dynamic_item\",attrs:{\"span\":\"8\"}},[_vm._v(\"止盈\"+_vm._s(item.stopProfit))])],1),_vm._v(\" \"),_c('input',{staticClass:\"with_buy_s\",attrs:{\"type\":\"button\",\"value\":\"跟买\"}})],1)}),_vm._v(\" \"),_c('TheFooter')],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3161cbc0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ranking/subscribe.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3161cbc0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./subscribe.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./subscribe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./subscribe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3161cbc0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./subscribe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ranking/subscribe.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}